# Nacos 服务配置文件
# 内置Derby数据库配置 - 适用于macOS ARM架构

# 数据源配置 - 使用内置Derby数据库
spring.datasource.platform=embedded
db.num=1
db.url.0=jdbc:derby:/home/nacos/data/derby-data;create=true
db.user.0=nacos
db.password.0=nacos

# 是否开启认证
nacos.core.auth.enabled=false

# 服务端口
server.port=8848
server.servlet.contextPath=/nacos
server.tomcat.accesslog.enabled=true
server.tomcat.accesslog.pattern=%h %l %u %t "%r" %s %b %D %{User-Agent}i %{Request-Source}i

# 日志配置
nacos.logs.path=/home/nacos/logs
nacos.logs.level=INFO

# JVM内部缓存时间，默认为3秒
nacos.naming.expireInstance=true

# 集群
nacos.inetutils.prefer-hostname-over-ip=true
nacos.inetutils.ip-address=127.0.0.1

# 开启Nacos 2.0的GRPC
nacos.core.grpc.server.port=9848
nacos.core.grpc.service.discovery=true
nacos.core.grpc.service.config=true

# 扩展点调试
#nacos.core.auth.plugin.nacos.token.secret.key=SecretKey012345678901234567890123456789012345678901234567890123456789

# ARM架构优化配置
server.tomcat.max-threads=200
server.tomcat.min-spare-threads=5 